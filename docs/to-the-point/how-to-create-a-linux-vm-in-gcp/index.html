<!DOCTYPE html>
<html lang="en"><meta charset="utf-8"><meta name="generator" content="Hugo 0.62.2" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="color-scheme" content="light dark">
<meta name="supported-color-schemes" content="light dark">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&family=VT323&display=swap" rel="stylesheet">
<script src="https://kit.fontawesome.com/4872e84fa1.js" crossorigin="anonymous"></script>

<script data-ad-client="ca-pub-4573306041548212" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><title>How to Create a Linux VM in GCP&nbsp;&ndash;&nbsp;Shubham Chadokar</title><link rel="stylesheet" href="/css/core.min.230278cb62d16ae8816a509dcb928fb36c2ee0bbc912a73233619ac052aedc8ff9ab5bf4d1bccfb3c26e79c1167337cd.css" integrity="sha384-IwJ4y2LRauiBalCdy5KPs2wu4LvJEqcyM2GawFKu3I/5q1v00bzPs8JuecEWczfN">

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous"><meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="How to Create a Linux VM in GCP" /><meta name="twitter:image" content="https://schadokar.dev/images/gcp-basic.png" /><body><section id="header">
    <div class="container">        
        <nav class="navbar navbar-expand-md navbar-light site-nav">

            <a class="navbar-brand site home" href="/"><span class="site name">Shubham Chadokar</span>
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample04" aria-controls="navbarsExample04" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarsExample04"><div class="nav wrap ml-auto">
  <nav class="nav">
      <ul class="navbar-nav "><li class="nav-item">
            
            <a class="nav item nav-link" href="/to-the-point">
                To-The-Point
            </a>
            

          </li><li class="nav-item">
            
            <a class="nav item nav-link" href="/schedule">
                Schedule
            </a>
            

          </li><li class="nav-item">
            
              <a class="nav item nav-link" href="https://schadokar.dev/index.xml"
                target="_blank"
                title="RSS"
                >
                <i class='fa fa-rss'></i>
              </a>
            

          </li></ul>

  </nav>
</div></div>
        </nav>
    </div>
    
</section>

    <section id="content"><div class="article-container"><section class="article header">
    <h1 class="article title">How to Create a Linux VM in GCP</h1><p class="article date">Sunday, March 29, 2020<span class="reading-time"> â€¢ 3 minutes to read</span></p><section class="article labels"><a class="category" href=/categories/tutorial/>Tutorial</a><a class="category" href=/categories/to-the-point/>to-the-point</a><a class="category" href=/categories/cloud/>Cloud</a><a class="category" href=/categories/gcp/>GCP</a><a class="tag" href=/tags/to-the-point/>to-the-point</a><a class="tag" href=/tags/gcp/>gcp</a><a class="tag" href=/tags/cloud/>cloud</a></section>
</section>
<article class="article markdown-body">
        
        
        <p>Create a <a href="https://cloud.google.com/free"target="_blank">new account</a> on GCP. For new users, GCP credits $300 dollars in the account for 12 months and with many free services.</p>
<p>Login to your GCP account.</p>
<h2 id="create-a-new-virtual-machine">Create a new virtual machine</h2>
<p>Select <strong>Compute Engine</strong> from the top left menu.</p>
<p>Menu &gt; Compute &gt; Compute Engine</p>
<h3 id="create-a-new-project">Create a new project</h3>
<p>In GCP, a project is a resource manager. All the related resources of a project place inside it.
Create a new project <strong>demo</strong>. It will take some time to create the project.</p>
<p><img  src="./images/gcp-create-project.PNG"
        alt="gcp-project"/></p>
<h3 id="create-vm-instance">Create VM instance</h3>
<p>Click on <strong>Create</strong>.</p>
<blockquote>
<p><strong>Take the quickstart</strong> it is a small tutorial on how to create the VM.</p>
</blockquote>
<p><img  src="./images/gcp-vm-create.PNG"
        alt="gcp-vm-i"/></p>
<h3 id="basic-details">Basic Details</h3>
<p>Enter the virtual machine name. <code>gcp-vm</code>.</p>
<p>Select the nearest region.</p>
<p>Select the Series <strong>N1</strong> and machine type <strong>n1-standard-1</strong>.</p>
<p><img  src="./images/gcp-vm-basic.PNG"
        alt="gcp-basic"/></p>
<h3 id="select-the-os-and-disk-size">Select the OS and Disk size</h3>
<p>Change the OS Image to <strong>Ubuntu 16.04 LTS</strong>.
Increase the disk size to 40GB.</p>
<p><img  src="./images/gcp-vm-size.PNG"
        alt="gcp-size"/></p>
<h3 id="firewall">Firewall</h3>
<p>Allow traffic from <strong>http</strong> and <strong>https</strong>.</p>
<blockquote>
<p>This step is optional. If you don't want to manage the private key then you can skip this step. If this is not setup then GCP manages the private key on your behalf. This private key is required to remotely connect to the VM.</p>
</blockquote>
<p>Click on <strong>security</strong>.</p>
<p>Configure SSH to remotely connect to the vm using the command line.</p>
<p>Open the bash or any command line.</p>
<p>Use <code>ssh-keygen</code> command to create keys. By default, it saves these keys in <code>~/.ssh</code> directory.</p>
<pre><code>$ ssh-keygen -m PEM -t rsa -b 4096
Generating public/private rsa key pair.
Enter file in which to save the key (/c/Users/shubh/.ssh/id_rsa):
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /c/Users/shubh/.ssh/id_rsa.
Your public key has been saved in /c/Users/shubh/.ssh/id_rsa.pub.
The key fingerprint is:
SHA256:5C+NIr1JjM8Oy5R6lgCyRm0EXqhHwToQQPYtN7f0qDY shubh@LAPTOP-BAVLQDM1
The key's randomart image is:
+---[RSA 4096]----+
|=*+o             |
|+.=..            |
|o+oo + o.        |
|*..oo +o+        |
|o=.    oS.       |
|...  =.  +       |
|.  .*E= o o      |
|   +=B.+ .       |
|  .oo.*          |
+----[SHA256]-----+

</code></pre><p>Enter the absolute path where you want to save the keys or skip it and press Enter.</p>
<p>The passphrase is required to access the private key while login in the VM. This step is optional. Passphrase length should be 5 or more. Note it down.</p>
<p>Open the <code>id_rsa.pub</code> file. This is the public key.<br>
Copy the key and paste it in <strong>Enter public SSH key</strong>.</p>
<blockquote>
<p>Remove any leading or trailing spaces while pasting.</p>
</blockquote>
<p><img  src="./images/gcp-vm-ssh.PNG"
        alt="gcp-ssh"/></p>
<p>Click <strong>Create</strong>. It will take some time to create the VM.</p>
<h3 id="connect-to-the-vm">Connect to the VM</h3>
<p>Open the vm. It will show the vm details.</p>
<p>If you haven't configured the SSH then you can connect to the VM using the SSH provided by the GCP. From SSH drop-down select the <strong>Open in browser window</strong> option.</p>
<p><img  src="./images/gcp-vm-connect.PNG"
        alt="gcp-vm-connect"/></p>
<h4 id="for-ssh-configured">For SSH configured</h4>
<p>Scroll down and copy the <strong>External IP</strong>.</p>
<p>Open the bash shell or any command line.</p>
<pre><code>ssh -i &lt;absolute-private-key-path&gt; username@vmipaddress
</code></pre><p>Username is the key to the SSH.</p>
<p><img  src="./images/gcp-vm-username.PNG"
        alt="gcp-username"/></p>
<pre><code>ssh -i /c/Users/shubh/.ssh/id_rsa shubh@34.93.244.120
</code></pre><p>Enter the passphrase if you have set up it while creating the SSH keys.</p>
<p><img  src="./images/gcp-vm-login.PNG"
        alt="gcp-vm-login"/></p>
<h3 id="test-the-vm">Test the VM</h3>
<p>Install the <strong>nginx</strong> web server.</p>
<pre><code>sudo apt-get -y update
sudo apt-get -y install nginx
</code></pre><p>It will take a few seconds to install it. Once it installs.<br>
Open the browser and enter the VM IP address.</p>
<p><img  src="./images/gcp-nginx.PNG"
        alt="gcp-nginx"/></p>
<h3 id="stop-the-vm">Stop the VM</h3>
<p>You can save some money by stopping or deleting the VM when you're not using it.</p>
<p>From the top, you can <strong>Stop</strong> or <strong>Delete</strong> the VM.</p>
<p><img  src="./images/gcp-vm-stop.PNG"
        alt="gcp-stop"/></p>
<p>Next time when you'll start it only the public IP of the vm will change.</p>
<hr>
</article><section class="article labels"><a class="category" href=/categories/tutorial/>Tutorial</a><a class="category" href=/categories/to-the-point/>to-the-point</a><a class="category" href=/categories/cloud/>Cloud</a><a class="category" href=/categories/gcp/>GCP</a><a class="tag" href=/tags/to-the-point/>to-the-point</a><a class="tag" href=/tags/gcp/>gcp</a><a class="tag" href=/tags/cloud/>cloud</a></section></div>
<div class="article bottom"><section class="article navigation"><p><a class="link" href="/to-the-point/how-to-login-as-root-in-gcp-linux-vm/"><span class="">Previous</span>How to Login as Root in GCP Linux Vm</a></p><p><a class="link" href="/to-the-point/how-to-create-a-linux-vm-in-azure/"><span class="">Next</span>How to create a Linux VM in Azure?</a></p></section></div></section>
<section id="footer">
    <div class="footer wrap mt-5">
        <div class="container">
            <div class="nav wrap mb-3">
                <nav class="nav w-100 d-flex text-center align-items-center justify-content-center">
                  <a class="nav item" href="/to-the-point">To-The-Point</a>
                  <a class="nav item" href="/projects">Projects</a>
                  <a class="nav item" href="/ebooks">Ebook</a>
                  <a class="nav item" href="/about">About</a>
                  <a class="nav item" href="https://github.com/schadokar/resume/blob/main/ShubhamChadokar_Resume.pdf" target="_blank">Resume</a>
                </nav>
            </div>
        </div>
        <div class="footer flex justify-center social-icon">
            
                <a href="https://github.com/schadokar" class="navbar-item is-hidden-desktop" title="GitHub">
                    <span
                        class="icon"><i class='fab fa-github'></i>
                    </span>
                </a>
            
                <a href="https://medium.com/@schadokar" class="navbar-item is-hidden-desktop" title="Medium">
                    <span
                        class="icon"><i class='fab fa-medium'></i>
                    </span>
                </a>
            
                <a href="https://schadokar.dev/index.xml" class="navbar-item is-hidden-desktop" title="RSS">
                    <span
                        class="icon"><i class='fa fa-rss'></i>
                    </span>
                </a>
            
                <a href="https://twitter.com/schadokar1" class="navbar-item is-hidden-desktop" title="Twitter">
                    <span
                        class="icon"><i class='fab fa-twitter'></i>
                    </span>
                </a>
            <div class="footer-wrap">
    <p class="copyright">&copy; <a href="https://schadokar.dev">Shubham Chadokar</a> 2021</p>
    <p class="powerby"><span>Powered by </span><a href="https://gohugo.io"
        target="_blank">Hugo</a><span>
    </p>
</div>
</div>
        <span class="footer right-side d-none"><div class="nav wrap ml-auto">
  <nav class="nav">
      <ul class="navbar-nav "><li class="nav-item">
                  <a class="nav item nav-link" href="/categories/">Categories</a>
              </li><li class="nav-item">
              <a class="nav item nav-link" href="/tags/">Tags</a>
          </li><li class="nav-item">
            
            <a class="nav item nav-link" href="/newsletter">
                Newsletter
            </a>
            

          </li><li class="nav-item">
            
            <a class="nav item nav-link" href="/contact">
                Contact
            </a>
            

          </li></ul>

  </nav>
</div></span>

    </div>
</section>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-158088106-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.9/lunr.min.js" integrity="sha512-4xUl/d6D6THrAnXAwGajXkoWaeMNwEKK4iNfq5DotEbLPAfk6FSxSP3ydNxqDgCw1c/0Z1Jg6L8h2j+++9BZmg==" crossorigin="anonymous"></script>
<script src="https://schadokar.dev/js/search.js"></script></body>

</html>