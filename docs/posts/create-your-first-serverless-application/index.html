<!DOCTYPE html>
<html lang="en"><meta charset="utf-8"><meta name="generator" content="Hugo 0.62.2" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="color-scheme" content="light dark">
<meta name="supported-color-schemes" content="light dark">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&family=VT323&display=swap" rel="stylesheet">
<script src="https://kit.fontawesome.com/4872e84fa1.js" crossorigin="anonymous"></script>

<script data-ad-client="ca-pub-4573306041548212" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><title>Create your first Serverless application&nbsp;&ndash;&nbsp;Shubham Chadokar</title><link rel="stylesheet" href="/css/core.min.40b56efabbe3d2ffd84f83355769468d3db4ab48018514f44bf187a1c9894ed05c98a3f1987aaebddbee5c4e36d9b985.css" integrity="sha384-QLVu&#43;rvj0v/YT4M1V2lGjT20q0gBhRT0S/GHocmJTtBcmKPxmHquvdvuXE422bmF">

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous"><meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Create your first Serverless application" /><meta name="twitter:image" content="https://schadokar.dev/posts/create-your-first-serverless-application/images/serverless-aws.png" /><body><section id="header">
    <div class="container">        
        <nav class="navbar navbar-expand-md navbar-light site-nav">

            <a class="navbar-brand site home" href="/"><span class="site name">Shubham Chadokar</span>
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample04" aria-controls="navbarsExample04" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarsExample04"><div class="nav wrap ml-auto">




    
<nav class="nav">
    <ul class="navbar-nav "><li class="nav-item">
        <a class="nav item nav-link" href="/to-the-point">To-The-Point</a>
        </li><li class="nav-item">
        <a class="nav item nav-link" href="https://github%2ecom/schadokar/resume/blob/main/ShubhamChadokar_Resume%2epdf"target="_blank">Resume</a>
        </li></ul>
    
</nav>
</div></div>
        </nav>
    </div>
    
</section>

    <section id="content"><div class="article-container"><section class="article header">
    <h1 class="article title">Create your first Serverless application</h1><p class="article date">Sunday, August 9, 2020<span class="reading-time"> • 4 minutes to read</span></p><section class="article labels"><a class="category" href=/categories/serverless/>Serverless</a><a class="category" href=/categories/cloud/>Cloud</a><a class="category" href=/categories/2020/>2020</a><a class="tag" href=/tags/serverless/>serverless</a><a class="tag" href=/tags/lambda/>lambda</a><a class="tag" href=/tags/aws/>aws</a></section>
</section>
<article class="article markdown-body">
        
        
        <p>Serverless computing is a cloud computing execution model in which the cloud provider runs the server, and dynamically manages the allocation of machine resources. Pricing is based on the actual amount of resources consumed by an application, rather than on pre-purchased units of capacity. - <a href="https://en.wikipedia.org/wiki/Serverless_computing"target="_blank">Wikipedia</a></p>
<p>In simple language, serverless means pay only for what you use. You might think there is already a Pay-as-you-go model provided by the cloud providers.<br>
Let me rephrase it, serverless means pay only for what you execute. Serverless doesn't mean that there will be no server, it means that you don't have to worry about the server and its setup. Focus on the application logic or in our programming terminology only focus on writing the code or functions.<br>
You can deploy these individual functions to the cloud and whenever this function will execute, only for that execution you will be charged.<br>
Isn't it great? 😃</p>
<p>Serverless computing concept was first introduced in 2010. AWS Lambda, introduced by Amazon in 2014, was the first public cloud infrastructure vendor with an abstract serverless computing offering.</p>
<p>With the popularity of microservice architecture, serverless is the best option in terms of economics and reliability.</p>
<h1 id="serverless-framework">Serverless Framework</h1>
<p><a href="https://serverless.com"target="_blank">Serverless</a> is an open-source project, introduced in 2015. Serverless provides features to deploy the function to almost every cloud. For ex. AWS, Azure, GCP. Using serverless you can access and manage other cloud services like storage, API gateway, DB etc.</p>
<blockquote>
<p>Don't get confused. Serverless computing or serverless is a concept, while there is a framework or tool also name as serverless.</p>
</blockquote>
<h1 id="getting-started">Getting Started</h1>
<p>To install the <code>serverless</code>, first install the <code>nodejs</code> in the machine.</p>
<p>Go to <a href="https://nodejs.org/en/download/"target="_blank">nodejs</a>.</p>
<h2 id="install-serverless">Install serverless</h2>
<p>Run the below <code>npm</code> command.</p>
<div class="highlight"><pre style="color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#268bd2">npm</span> <span style="color:#268bd2">install</span> --<span style="color:#268bd2">global</span> <span style="color:#268bd2">serverless</span>
</code></pre></div><h1 id="create-a-nodejs-application-and-deploy-on-aws">Create a nodejs application and deploy on AWS</h1>
<p>Create a new directory <code>hello-serverless</code>.<br>
Open the terminal in the directory and run the below command.</p>
<div class="highlight"><pre style="color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#268bd2">serverless</span> <span style="color:#268bd2">create</span> --<span style="color:#268bd2">template</span> <span style="color:#268bd2">aws</span>-<span style="color:#268bd2">nodejs</span>
</code></pre></div><p><img  src="./images/boilerplate.PNG"
        alt="boilerplate"/></p>
<p>This template has created 2 files, <code>handler.js</code> where the function is defined and <code>serverless.yml</code> where serverless deployment configuration is defined.</p>
<p>Open <code>handler.js</code>.</p>
<p>This is a simple function which will return a message.</p>
<div class="highlight"><pre style="color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#268bd2">module</span>.<span style="color:#268bd2">exports</span>.<span style="color:#268bd2">hello</span> = <span style="color:#268bd2">async</span> (<span style="color:#268bd2">event</span>) =&gt; {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>  <span style="color:#859900">return</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>    <span style="color:#268bd2">statusCode</span>: <span style="color:#2aa198;font-weight:bold">200</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>    <span style="color:#268bd2">body</span>: <span style="color:#268bd2">JSON</span>.<span style="color:#268bd2">stringify</span>(
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>      {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>        <span style="color:#268bd2">message</span>: <span style="color:#2aa198">&#34;Go Serverless v1.0! Your function executed successfully!&#34;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>        <span style="color:#268bd2">input</span>: <span style="color:#268bd2">event</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>      },
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>      <span style="color:#859900;font-weight:bold">null</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>      <span style="color:#2aa198;font-weight:bold">2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>    ),
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>  };
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>};
</code></pre></div><h2 id="create-an-api-endpoint-for-hello-function">Create an API endpoint for hello function</h2>
<p>Open <code>serverless.yml</code>.</p>
<p>In the provider section, it is <code>aws</code> and by default, its region is <code>us-east-1</code>. It also provides a staging option, you can deploy the project in a different environment like dev, prod or test.</p>
<p>Update the provider section:</p>
<div class="highlight"><pre style="color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>provider:
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>  name: aws
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>  runtime: nodejs12.x
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>  stage: dev
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>  region: us-east<span style="color:#2aa198;font-weight:bold">-1</span>
</code></pre></div><p>In the functions, create a new route for the hello function. It will create a new route in the AWS API gateway and link it to the AWS lambda function in which <code>hello</code> function will deploy.</p>
<p>Update the function section:</p>
<div class="highlight"><pre style="color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>functions:
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>  hello:
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>    handler: handler.hello
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>    events:
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>      - http:
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span>          path: v1/hello
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span>          method: get
</code></pre></div><p>We have created a <code>http</code> event of <code>GET</code> request type and <code>v1/hello</code> route.</p>
<p>The function is ready and configured.</p>
<p>For deploying it, we need to connect AWS account with the serverless.</p>
<h2 id="create-an-aws-account">Create an AWS account</h2>
<p>Create an account in AWS cloud if you don't have.<br>
Open the AWS account and go to <strong>IAM</strong>.<br>
Create a new user with <strong>Administrator Access</strong>. Using this user, the serverless can create the lambda function and other required resources on the AWS cloud.</p>
<h3 id="create-a-new-user">Create a new User</h3>
<p>Enter the user name and select the <strong>Programmatic access</strong>.</p>
<p><img  src="./images/aws-user.PNG"
        alt="aws-user"/></p>
<p>Click Next.</p>
<h3 id="permissions">Permissions</h3>
<p>Select the <strong>AdministratorAccess</strong>.<br>
This is only for the education purpose, in production configure the access according to the requirement.</p>
<p><img  src="./images/aws-user-permission.PNG"
        alt="aws-permission"/></p>
<p>Now, Click Next till review tab and Create the User.</p>
<p><img  src="./images/aws-user-creates.PNG"
        alt="aws-create-user"/></p>
<p>Download the credentials. If you misplace this, then you have to recreate it again. Save it properly. Keep it handy, we need it in the next step.</p>
<h2 id="deploy-to-aws">Deploy to AWS</h2>
<p>Open terminal in the project directory.<br>
Run the below command to connect serverless CLI to AWS account.</p>
<div class="highlight"><pre style="color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#268bd2">serverless</span> <span style="color:#268bd2">config</span> <span style="color:#268bd2">credentials</span> --<span style="color:#268bd2">provider</span> <span style="color:#268bd2">aws</span> --<span style="color:#268bd2">key</span> &lt;<span style="color:#268bd2">ACCESS</span> <span style="color:#268bd2">KEY</span>&gt; --<span style="color:#268bd2">secret</span> &lt;<span style="color:#268bd2">Secret</span> <span style="color:#268bd2">Access</span> <span style="color:#268bd2">key</span>&gt;
</code></pre></div><blockquote>
<p>❗ Don't use the shorthand <code>-s</code> for secret, it is reserved keyword and will throw a serverless error <code>Invalid stage name</code>.</p>
</blockquote>
<p>Use the below command to deploy the function to the AWS.</p>
<div class="highlight"><pre style="color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#268bd2">serverless</span> <span style="color:#268bd2">deploy</span>
</code></pre></div><blockquote>
<p>You can use <code>sls</code> for <code>serverless</code>. It is a shorthand notation.</p>
</blockquote>
<p>Once, it deployed successfully, you will get output similar to this.</p>
<p><img  src="./images/aws-deploy.PNG"
        alt="aws-deploy"/></p>
<h2 id="test-the-function">Test the function</h2>
<p>Copy the endpoint from the deploy output.
<code>https://dtv6erp3g3.execute-api.us-east-1.amazonaws.com/dev/v1/hello</code></p>
<p>Try it in browser.
<img  src="./images/aws-hello.PNG"
        alt="aws-browser"/></p>
<h1 id="conclusion">Conclusion</h1>
<p>Serverless computing is economical and reliable but we have should not follow it blindly. All the technologies work best up to a certain limit if we try it beyond that instead of helping it will increase your workload.</p>
<p>We should use it according to the use case and requirement.</p>
<p>The serverless tool is great. Even for a beginner, the learning curve is smooth. In the upcoming tutorials, you will get more projects to play with serverless.</p>
<p>Thanks for reading. 😃</p>
<blockquote>
<p>Cover is designed in <a href="https://canva.7eqqol.net/KD6B9"target="_blank">Canva</a></p>
</blockquote>
<hr>
</article><section class="article labels"><a class="category" href=/categories/serverless/>Serverless</a><a class="category" href=/categories/cloud/>Cloud</a><a class="category" href=/categories/2020/>2020</a><a class="tag" href=/tags/serverless/>serverless</a><a class="tag" href=/tags/lambda/>lambda</a><a class="tag" href=/tags/aws/>aws</a></section></div>
<div class="article bottom"><section class="article navigation"><p><a class="link" href="/posts/create-a-serverless-application-in-golang-with-aws/"><span class="">Previous</span>Create a Serverless Application in Golang With AWS</a></p><p><a class="link" href="/posts/secure-your-api-using-jwt-in-golang/"><span class="">Next</span>Secure Your Api Using Jwt in Golang</a></p></section></div></section>
<section id="footer">
    <div class="footer wrap mt-5">
        <div class="container">
            <div class="nav wrap mb-3">
                <nav class="nav w-100 d-flex text-center align-items-center justify-content-center">
                  <a class="nav item" href="/to-the-point">To-The-Point</a>
                  <a class="nav item" href="/projects">Projects</a>
                  <a class="nav item" href="/ebooks">Ebook</a>
                  <a class="nav item" href="/about">About</a>
                  <a class="nav item" href="https://github.com/schadokar/resume/blob/main/ShubhamChadokar_Resume.pdf" target="_blank">Resume</a>
                </nav>
            </div>
        </div>
        <div class="footer flex justify-center social-icon">
                
                    <a href="https://github.com/schadokar" class="navbar-item is-hidden-desktop" title="GitHub">
                        <span
                            class="icon"><i class='fab fa-github'></i>
                        </span>
                    </a>
                
                    <a href="https://medium.com/@schadokar" class="navbar-item is-hidden-desktop" title="Medium">
                        <span
                            class="icon"><i class='fab fa-medium'></i>
                        </span>
                    </a>
                
                    <a href="https://twitter.com/schadokar1" class="navbar-item is-hidden-desktop" title="Twitter">
                        <span
                            class="icon"><i class='fab fa-twitter'></i>
                        </span>
                    </a>
                <div class="footer-wrap">
    <p class="copyright">&copy; <a href="https://schadokar.dev">Shubham Chadokar</a> 2020</p>
    <p class="powerby"><span>Powered by </span><a href="https://gohugo.io"
        target="_blank">Hugo</a><span>
    </p>
</div>
</div>
        <span class="footer right-side d-none"><div class="nav wrap ml-auto">




    
<nav class="nav">
    <ul class="navbar-nav "><li class="nav-item">
                <a class="nav item nav-link" href="/categories/">Categories</a>
            </li><li class="nav-item">
            <a class="nav item nav-link" href="/tags/">Tags</a>
        </li><li class="nav-item">
        <a class="nav item nav-link" href="/newsletter">Newsletter</a>
        </li><li class="nav-item">
        <a class="nav item nav-link" href="/contact">Contact</a>
        </li></ul>
    
</nav>
</div></span>
        
    </div>
</section>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-158088106-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.9/lunr.min.js" integrity="sha512-4xUl/d6D6THrAnXAwGajXkoWaeMNwEKK4iNfq5DotEbLPAfk6FSxSP3ydNxqDgCw1c/0Z1Jg6L8h2j+++9BZmg==" crossorigin="anonymous"></script>
<script src="https://schadokar.dev/js/search.js"></script></body>

</html>