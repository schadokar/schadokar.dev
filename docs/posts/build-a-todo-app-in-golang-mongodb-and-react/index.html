<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"  lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<title>Build a Todo App in Golang, MongoDB, and React | Shubham Chadokar</title>



<link href="https://schadokar.dev/index.xml" rel="alternate" type="application/rss+xml" title="Shubham Chadokar" />

<link rel="stylesheet" href="/css/style.css"/><link rel='stylesheet' href='https://schadokar.dev/css/custom.css'><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<link rel="canonical" href="https://schadokar.dev/posts/build-a-todo-app-in-golang-mongodb-and-react/">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
</head>
<body>
<section class="section">
  
  <nav id="nav-main" class="nav">
    <div id="nav-name" class="nav-left">
      <a id="nav-anchor" class="nav-item" href="https://schadokar.dev">
        <h1 id="nav-heading" class="title is-4">Shubham Chadokar</h1>
      </a>
    </div>
    <div class="nav-right">

      <nav id="nav-items" class="nav-item level is-mobile">
        <nav class="nav-links">
          <a href="/about">About Me</a>
        </nav>
        <nav class="nav-links">
          <a href="/projects">Projects</a>
        </nav>
        <nav class="nav-links">
          <a href="/subscribe">Subscribe</a>
        </nav>
        <nav class="nav-links">
          <a href="/contact">Contact</a>
        </nav>
      </nav>

    </div>
  </nav>

  <nav class="nav">
    

    
  </nav>

  
  <script src="/js/navicon-shift.js"></script>
</section>
<section class="section">
  <div class="container">
    <div class="subtitle tags is-6 is-pulled-right">
      
      
<a class="subtitle is-6" href="/tags/golang">#golang</a>



  
  | <a class="subtitle is-6" href="/tags/development">#development</a>
  
  | <a class="subtitle is-6" href="/tags/tutorial">#tutorial</a>
  

      
    </div>
    <h2 class="subtitle is-6">August 6, 2019</h2>
    <h1 class="title">Build a Todo App in Golang, MongoDB, and React</h1>
    


    <div class="content">
      <p><img src="./asset-1.png" alt="Google sources"></p>
<p>The main purpose of this tutorial to get hands-on experience in Golang. When I was learning Golang, I realized there are very few tutorials and articles out there which give you a complete end to end hands-on experience.</p>
<p>This is the <a href="https://github.com/schadokar/go-to-do-app/">GitHub link</a> for the complete code.</p>
<hr>
<p>In this tutorial, we will build a todo app in which the server will be in Golang, the database will be MongoDB, and the frontend will be in React.</p>
<ol>
<li><strong>Server — Go</strong></li>
<li><strong>Database — MongoDB</strong></li>
<li><strong>Frontend — React</strong></li>
</ol>
<hr>
<p>I am assuming that you have Go installed and have a basic understanding of it. If you don’t, I’ll explain all the steps and will mention the references of the related topics.</p>
<blockquote>
<p><strong>Note:</strong> This project is developed outside the GOPATH due to which the local imports are working.</p>
</blockquote>
<p>Create a project directory and give it an appropriate name.</p>
<p>I am using <code>go-todo</code> .</p>
<p>Let’s first create the server.</p>
<h4 id="server-ingolang">Server in Golang</h4>
<p>Create a <code>server</code> directory inside the <code>go-todo</code> .</p>
<p>The <code>server</code> directory structure will be:</p>
<pre><code>go-todo
  - server
    - middleware
      - middleware.go
    - models
      - models.go
    - router
      - router.go
    - main.go
</code></pre><p>In the server, we require 2 dependencies: the first to connect with MongoDB and the second to create RESTAPIs.</p>
<p>We are going to use the official <a href="https://github.com/mongodb/mongo-go-driver">MongoDB Go Driver</a> from MongoDB.</p>
<p>To install it run the below command in the terminal or command window.</p>
<pre><code>go get go.mongodb.org/mongo-driver
</code></pre><p>Second, install the <code>gorilla/mux</code> <a href="https://github.com/gorilla/mux">package</a> for the router. <code>mux</code> is one of the most popular packages for the router in the Golang.</p>
<p>To install it run the below command in the terminal or command window.</p>
<pre><code>go get -u github.com/gorilla/mux
</code></pre><h4 id="models"><strong>Models</strong></h4>
<p>Once both the packages installed successfully, create a <code>models</code> directory and <code>models.go</code> file inside it and paste the below code.</p>
<pre><code>package models

import &quot;go.mongodb.org/mongo-driver/bson/primitive&quot;

type ToDoList struct {

  ID     primitive.ObjectID `json:&quot;_id,omitempty&quot; bson:&quot;_id,omitempty&quot;`

  Task   string             `json:&quot;task,omitempty&quot;`
  Status bool               `json:&quot;status,omitempty&quot;`
}
</code></pre><p>The first line is the package name for this file. To learn more about packages follow this <a href="https://medium.com/rungo/everything-you-need-to-know-about-packages-in-go-b8bac62b74cc">link</a>.</p>
<p>The second line is <code>import</code> primitive from <code>mongo-driver</code> the package.</p>
<p>To define how the data will get stored in the database we have to create a <code>model</code>for it. In Golang, we use <code>struct</code> type for this.</p>
<p>In the <code>ToDoList</code> we have 3 fields:</p>
<ol>
<li>ID: This objectID will be generated by the MongoDB</li>
<li>Task: The test</li>
<li>Status: <code>true</code> or <code>false</code></li>
</ol>
<p>The type of id in MongoDB is <code>Object(id)</code> .</p>
<blockquote>
<p>Note: ToDoList must be in uppercase as it is exported.</p>
</blockquote>
<h4 id="middleware"><strong>Middleware</strong></h4>
<p>Create a new folder by name <code>middleware</code> in the <code>server</code> directory and create a new file <code>middleware.go</code> inside it and paste the below code in it.</p>
<p>middleware.go</p>
<p><strong>MongoDB Set up</strong></p>
<p>First set up the MongoDB connection.</p>
<p>Here I am using MongoDB Atlas for the demo. You can sign up for free tier, it gives you 512MB of storage, that is more than enough for learning purpose.</p>
<p><a href="https://docs.atlas.mongodb.com/getting-started/">Sign up</a> for MongoDB Atlas. Follow the link instructions.</p>
<p>Once you have your cluster ready, a few things need to be done.</p>
<p>First, white list your IP address.</p>
<ul>
<li>Click on “Network Access” under “Security”.</li>
<li>Click “ADD IP ADDRESS” and select “ADD CURRENT IP ADDRESS”. This will allow only your computer to interact with it.</li>
</ul>
<p><img src="./asset-2.png" alt="Whitelist IP address"></p>
<p>Second, create a user. You can learn more about the user in this <a href="https://docs.atlas.mongodb.com/getting-started/#create-a-mongodb-user-for-your-cluster">link</a>.</p>
<ul>
<li>Click “Database Access” under “Security” and create a new user.</li>
<li>I have <code>admin</code> as a user.</li>
</ul>
<p><img src="./asset-3.png" alt="atlas user"></p>
<p>Now, its time to get the connection string.</p>
<ul>
<li>Go to “Cluster” and click “connect” and then “Connect Your Application”.</li>
<li>Copy the connection string and paste it in <code>connectionString</code>in <code>middleware.go</code></li>
</ul>
<p><img src="./asset-4.png" alt="connection string"></p>
<p>Let me explain the functionality. All the functions which are in uppercase are exported and will be used in <code>router.go</code> which we will be writing in some time.</p>
<ul>
<li><code>**init()**</code>**:** runs only once throughout the program life. In the init function the connection to the MongoDB will be established. Check out this <a href="https://stackoverflow.com/a/49831018/9790416">answer on StackOverflow</a> to learn more about init.</li>
<li><code>**GetAllTask**</code>**:** First it set the header to tackle the cors issue and then it will call the <code>getAllTask()</code> function. It uses a<code>bson</code> package to get the data from the MongoDB. <code>_bson.M_</code> _is used where M is an unordered, concise representation of a BSON document. It should generally be used to Serialize BSON._ All the documents returned in <code>primitive.M</code> type. Package <code>primitive</code> contains types similar to Go primitives for BSON types can do not have direct Go primitive representations.</li>
<li><code>**CreateTask**</code>**:** It first decodes the request body and store in <code>models.ToDoList</code> type. It is imported from a <code>models</code> package. Then, it will call <code>insertOneTask</code> function and insert the task into the collection.</li>
<li><code>**TaskComplete**</code>**:** It is an update request where it will update the task’s status according to task ID. To get the <code>params</code> from the URL, we are using <code>mux</code> package. Using <code>mux</code>, send task id as a string to the <code>taskComplete</code> function. MongoDB assigns ids to the data in ObjectID format. To get the ObjectID from the task id (string), we are using <code>primitive</code> package’s method <code>ObjectIDFromHex</code> . It will return the <code>ObjectID</code> . The <code>updateOne</code> method requires 3 arguments <code>context</code> , <code>filter</code> and <code>update</code> . <code>context</code> is <code>Background</code> you can learn more about context package from this <a href="https://golang.org/pkg/context/#Background">link</a>. The second argument is <code>filter</code> , filter by id and the third one is <code>update</code> where status is updated to <code>true</code> .</li>
<li><code>**UndoTask**</code>**:** This is same as TaskComplete, it only updates the task’s status to <code>false</code></li>
<li><code>**DeleteTask**</code>**:** It is a delete request. First, it’ll get the task id from the URL and then pass it to the <code>deleteOneTask</code> . It will retrieve the <code>ObjectID</code> of the task and then it will delete the task by its id from the collection.</li>
<li><code>**DeleteAllTask**</code>**:** As its names speak for itself, it deletes all the tasks from the collection.</li>
</ul>
<p>The middleware is complete.</p>
<h4 id="router">Router</h4>
<p>Create a <code>router</code> folder in the <code>server</code> directory and then create a new file <code>router.go</code> in it. Paste the below code in the file.</p>
<p>router</p>
<p>First, we’re importing all task functions from the <code>middleware</code> package.</p>
<p>Second, we’re using <code>mux</code> package to create routes.</p>
<ul>
<li>Line 11: create a new instance of the router using <code>mux.NewRouter()</code></li>
<li>Line 13: <code>GET</code> method to get all task from the DB. In <code>Methods</code> the first parameter is <code>Method</code> in this case, it is <code>GET</code> and second <code>OPTIONS</code>, this is to tackle <code>cors</code> .</li>
<li>Line 14: <code>POST</code> method to create a task in the DB.</li>
<li>Line 15: <code>PUT</code> method to update the task’s status to <code>true</code> in the DB. The task’s id is passed as params in the URL.</li>
<li>Line 16: <code>PUT</code> method to update the task’s status to <code>false</code> in the DB. The task’s id is passed as params in the URL.</li>
<li>Line 17: <code>DELETE</code> method to delete the task from the DB. The task’s id is passed as params in the URL.</li>
<li>Line 18: <code>DELETE</code> method to delete all the tasks from the DB.</li>
<li>Line 19: Return the <code>router</code> instance. This router will be served in the <code>main.go</code></li>
</ul>
<h4 id="maingo">main.go</h4>
<p>Create a <code>main.go</code> file in the <code>server</code> directory. Paste the below code in it.</p>
<pre><code>package main

import (
    &quot;fmt&quot;
    &quot;log&quot;
    &quot;net/http&quot;
    &quot;./router&quot;
)

func main() {

    r := router.Router()

    fmt.Println(&quot;Starting server on the port 8080...&quot;)

    log.Fatal(http.ListenAndServe(&quot;:8080&quot;, r))
}
</code></pre><p>Import <code>net/http</code> package to serve the routes at <code>8080</code> port and <code>./router</code>to import <code>router</code> package.</p>
<p>Create an instance of <code>router</code> package.</p>
<pre><code>r := router.Router()
</code></pre><p>Serve/host the application on the <code>8080</code> port.</p>
<pre><code>http.ListenAndServe(&quot;:8080&quot;, r)
</code></pre><p>A<code>log</code> package is used to track logs.</p>
<p>Open the terminal from the <code>server</code> directory and run the below command to serve the server. You’ll see the output as the image.</p>
<pre><code>go run main.go
</code></pre><p><img src="./asset-5.png" alt="serve"></p>
<p>You can test the APIs using <code>POSTMAN</code> .</p>
<hr>
<h4 id="frontend-inreact">Frontend in React</h4>
<p>We’re using the <code>create-react-app</code> module as a boilerplate for this project. You can learn more about it <a href="https://github.com/facebook/create-react-app">here</a>.</p>
<p>Run the below command from the project directory <code>go-todo</code></p>
<pre><code>npx create-react-app client
</code></pre><p>It will take a while to install. Once it is finished, install the following dependencies for the project. Open terminal from the <code>client</code> directory.</p>
<ol>
<li><strong>Axios:</strong> For interacting with the server rest APIs.</li>
<li><strong>semantic-ui-react:</strong> It is a great react component library to quickly build a frontend. Refer to this <a href="https://react.semantic-ui.com/">link</a> to learn more it.</li>
</ol>
<pre><code>npm install axios

npm install semantic-ui-react
</code></pre><p>Semantic UI React provides React components while Semantic UI provides themes as CSS stylesheets. Add the stylesheet in <code>index.html</code> inside the <code>public</code> folder. Check the semantic UI version from this <a href="https://react.semantic-ui.com/usage">link</a>.</p>
<pre><code>&lt;link rel=&quot;stylesheet&quot; href=&quot;//cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css&quot;/&gt;
</code></pre><p>Update the title in the <code>title</code> tag. This will be the title of the tab in the browser. Save the <code>index.html</code></p>
<pre><code>&lt;title&gt;ToDo App&lt;/title&gt;
</code></pre><p>Go to the <code>src</code> folder and open <code>App.js</code> . Delete the content in it and paste the below code.</p>
<pre><code>import React from &quot;react&quot;;
import &quot;./App.css&quot;;

// import the Container Component from the semantic-ui-react
import { Container } from &quot;semantic-ui-react&quot;;

// import the ToDoList component
import ToDoList from &quot;./To-Do-List&quot;;

function App() {
  return (
    &lt;div&gt;
      &lt;Container&gt;
        &lt;ToDoList /&gt;
      &lt;/Container&gt;
    &lt;/div&gt;
  );
}
export default App;
</code></pre><p>Create a new file <code>To-Do-List.js</code> inside the <code>src</code> folder. This component will be the frontend.</p>
<p>You can download the component from the <a href="https://github.com/schadokar/go-to-do-app/blob/master/client/src/To-Do-List.js">GitHub</a>.</p>
<p>You can save the file and it is ready to go.</p>
<hr>
<p><strong>Run the Application</strong></p>
<ul>
<li>Open the terminal and start the <code>server</code> from the server directory.</li>
</ul>
<pre><code>go run main.go
</code></pre><ul>
<li>Open the terminal and start the react application from the client directory.</li>
</ul>
<pre><code>npm start
</code></pre><ul>
<li>Go to <code>http://localhost:3000</code></li>
</ul>
<p><img src="./asset-6.png" alt="index"></p>
<ul>
<li><strong>Create tasks</strong></li>
</ul>
<p><img src="./asset-7.png" alt="Create Task"></p>
<ul>
<li><strong>Complete task by clicking</strong> <code>Done</code></li>
</ul>
<p><img src="./asset-8.png" alt="Task Complete"></p>
<ul>
<li><strong>Undo a task</strong></li>
</ul>
<p><img src="./asset-9.png" alt="Undo Task"></p>
<ul>
<li><strong>Delete Task</strong></li>
</ul>
<p><img src="./asset-10.png" alt="Delete Task"></p>
<hr>
<p>Congratulations! You just build a To-Do App in Golang.</p>
<p>For the complete code. This is the <a href="https://github.com/schadokar/go-to-do-app/">Github Link.</a></p>
<hr>

      
      <div class="related">

<h3>Similar articles:</h3>
<ul>
	
	<li><a href="/posts/hyperledger-fabric-installation-guide/">Hyperledger Fabric Installation Guide!</a></li>
	
	<li><a href="/posts/create-an-ethereum-dapp-with-react-and-docker/">Create an Ethereum Dapp with React and Docker</a></li>
	
	<li><a href="/posts/deploy-angular-application-on-azure-web-service/">Deploy Angular application on Azure Web Service</a></li>
	
</ul>
</div>
      
    </div>
    

    <div>
  <iframe style="margin-top: 20px" width="100%" height="200px" src="https://schadokar.substack.com/embed"
    frameborder="0" scrolling="no"></iframe>
</div>

  </div>
</section>




<section class="section">
  
  <div class="container">
    <p>&copy; <a href="https://github.com/schadokar">Shubham Chadokar</a> 2020</p>
    
    
    
  </div>
</section>

<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="\/\/matomo.example.com\/";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', '1']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript>
  <img src="//matomo.example.com/piwik.php?idsite=1&amp;rec=1" style="border:0" alt="" />
</noscript>

<script>
    (function(f, a, t, h, o, m){
        a[h]=a[h]||function(){
            (a[h].q=a[h].q||[]).push(arguments)
        };
        o=f.createElement('script'),
        m=f.getElementsByTagName('script')[0];
        o.async=1; o.src=t; o.id='fathom-script';
        m.parentNode.insertBefore(o,m)
    })(document, window, '\/\/fathom.example.com\/tracker.js', 'fathom');
    fathom('trackPageview');
</script>
</body>

</html>